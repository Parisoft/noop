Controller1 extends Controllers {
	
	$update() {
		mask : 1
		!	LDA #$01   !
		!	STA $4016  !
		!	LDA #$00   !
		!	STA $4016  !
		!  	LDX #0          !
		!-loop1:            !
		!	LDA $4016       !
		!	AND #1          !
		!	BEQ +next1:     !
		!	TXA             !
		!	ORA ?mask?      !
		!	TAX             !
		!+next1:            !
		!	ASL ?mask?      !
		!	BNE -loop1:     !
		!	STX ?_$status1? !
	}
	
	$pressedA() {
		return (_$A & _$status1) as Bool
	}
	
	$pressedB() {
		return (_$B & _$status1) as Bool
	}
	
	$pressedSelect() {
		return (_$SELECT & _$status1) as Bool
	}
	
	$pressedStart() {
		return (_$START & _$status1) as Bool
	}
	
	$pressedUp() {
		return (_$UP & _$status1) as Bool
	}
	
	$pressedDown() {
		return (_$DOWN & _$status1) as Bool
	}
	
	$pressedLeft() {
		return (_$LEFT & _$status1) as Bool
	}
	
	$pressedRight() {
		return (_$RIGHT & _$status1) as Bool
	}
}